# n8n + CLI Tools Configuration
# Copy to .env and fill in the values
#
# Quick setup:
#   ./setup.sh           # Interactive setup for development
#   ./setup.sh --prod    # Interactive setup for production

# =====================================================
# REQUIRED - Set these before starting
# =====================================================

# Encryption key for storing credentials securely
# Generate with: openssl rand -hex 32
N8N_ENCRYPTION_KEY=GENERATE_WITH_openssl_rand_-hex_32

# =====================================================
# Development Settings (docker-compose up)
# =====================================================

N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
TIMEZONE=America/Costa_Rica

# =====================================================
# Production Settings (docker-compose -f ... -f docker-compose.prod.yml)
# =====================================================

# Domain configuration
DOMAIN_NAME=example.com
SUBDOMAIN=n8n
# Result: https://n8n.example.com

# SSL certificate email (Let's Encrypt)
SSL_EMAIL=admin@example.com

# WhatsApp API subdomain
WHATSAPP_SUBDOMAIN=wa-api
# Result: https://wa-api.example.com

# =====================================================
# CLI Tools Settings
# =====================================================

# Check for updates on container start (notify only)
CLI_TOOLS_UPDATE_CHECK=true

# Automatically install updates on container start
CLI_TOOLS_AUTO_UPDATE=false

# =====================================================
# API Keys (Optional)
# =====================================================

# Google AI API Key (required for genimg/imagen-cli)
GOOGLE_AI_API_KEY=

# =====================================================
# WhatsApp Cloud API
# =====================================================

# Webhook verification token (you choose this, must match Meta config)
WHATSAPP_VERIFY_TOKEN=
# Meta App Secret (for HMAC-SHA256 signature validation)
WHATSAPP_APP_SECRET=
# Phone Number ID (from Meta Developer Console)
WHATSAPP_PHONE_NUMBER_ID=
# Access Token (for sending messages â€” optional for webhook-only)
WHATSAPP_ACCESS_TOKEN=
# Supabase connection (for CRM storage)
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
# n8n webhook for downstream events (optional)
N8N_WHATSAPP_WEBHOOK_URL=http://n8n:5678/webhook/whatsapp-events
# Port (default 8050)
WHATSAPP_API_PORT=8050

# =====================================================
# Telemetry
# =====================================================

N8N_DIAGNOSTICS_ENABLED=false

# =====================================================
# Database (Optional - for high-traffic production)
# =====================================================
# Uncomment and add postgres service to use PostgreSQL

# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=postgres
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n
# DB_POSTGRESDB_PASSWORD=your-secure-password
