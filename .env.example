# n8n + CLI Tools Configuration
# Copy to .env and fill in the values
#
# Quick setup:
#   ./setup.sh           # Interactive setup for development
#   ./setup.sh --prod    # Interactive setup for production

# =====================================================
# REQUIRED - Set these before starting
# =====================================================

# Encryption key for storing credentials securely
# Generate with: openssl rand -hex 32
N8N_ENCRYPTION_KEY=GENERATE_WITH_openssl_rand_-hex_32

# =====================================================
# Development Settings (docker-compose up)
# =====================================================

N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
TIMEZONE=America/Costa_Rica

# =====================================================
# Production Settings (docker-compose -f ... -f docker-compose.prod.yml)
# =====================================================

# Domain configuration
DOMAIN_NAME=example.com
SUBDOMAIN=n8n
# Result: https://n8n.example.com

# SSL certificate email (Let's Encrypt)
SSL_EMAIL=admin@example.com

# =====================================================
# n8n MCP Server (AI Workflow Management)
# =====================================================
# Exposes n8n workflow management via MCP protocol (HTTP transport)
# Connect any MCP client to http://localhost:3100/mcp
# Docs: https://github.com/czlonkowski/n8n-mcp

N8N_MCP_PORT=3100
N8N_MCP_AUTH_TOKEN=GENERATE_WITH_openssl_rand_-hex_32
N8N_MCP_LOG_LEVEL=error

# =====================================================
# CLI Tools Settings
# =====================================================

# Check for updates on container start (notify only)
CLI_TOOLS_UPDATE_CHECK=true

# Automatically install updates on container start
CLI_TOOLS_AUTO_UPDATE=false

# dbt profiles directory (mount your profiles.yml here)
# Default: /data/shared/dbt
DBT_PROFILES_DIR=/data/shared/dbt

# =====================================================
# n8n Editor & Webhooks
# =====================================================

# Editor base URL (must match how you access n8n in browser)
# Required for OAuth2 redirect URIs to work correctly
N8N_EDITOR_BASE_URL=http://localhost:5678/

# =====================================================
# Google OAuth2 Credentials (Gmail, Calendar, Drive)
# =====================================================
# Used by n8n's built-in Google nodes for OAuth2 authentication.
# See docs/google-oauth-setup.md for step-by-step instructions.
#
# 1. Create a GCP project: https://console.cloud.google.com/
# 2. Enable Gmail, Calendar, and Drive APIs
# 3. Create OAuth2 credentials (Web application type)
# 4. Set redirect URI: http://localhost:5678/rest/oauth2-credential/callback
# 5. Paste client_id and client_secret below

GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=

# =====================================================
# Notion API (Optional)
# =====================================================
# Used by n8n's built-in Notion nodes.
# See docs/notion-setup.md for setup instructions.
#
# 1. Go to https://www.notion.so/my-integrations
# 2. Create a new integration
# 3. Copy the Internal Integration Secret below

NOTION_API_TOKEN=

# =====================================================
# API Keys (Optional)
# =====================================================

# Google AI API Key (required for genimg/imagen-cli)
GOOGLE_AI_API_KEY=

# =====================================================
# Telemetry
# =====================================================

N8N_DIAGNOSTICS_ENABLED=false

# =====================================================
# Database (Optional - for high-traffic production)
# =====================================================
# Uncomment and add postgres service to use PostgreSQL

# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=postgres
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n
# DB_POSTGRESDB_PASSWORD=your-secure-password
